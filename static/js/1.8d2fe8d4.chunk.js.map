{"version":3,"sources":["components/Input/index.jsx","components/Button/index.jsx","components/FormRow/index.jsx","components/H/index.jsx","components/Button/styles.module.scss","components/FormRow/styles.module.scss","components/H/styles.module.scss","components/Input/styles.module.scss","api/dadata.js","components/Grid/styles.module.scss","components/InputSuggest/index.jsx","components/Grid/Col.jsx","components/Grid/Row.jsx","components/Suggest/option.jsx","components/Suggest/suggest.jsx","components/Suggest/index.js","icons/IconCode.jsx","components/SelectBox/index.jsx","components/Suggest/option.module.scss","components/Suggest/suggest.module.scss","components/InputSuggest/styles.module.scss","components/SelectBox/styles.module.scss"],"names":["Input","props","error","label","mask","value","onBlur","onChange","onFocus","otherProps","useState","hasFocus","setHasFocus","inputClass","cn","styles","Input__Input","Input__Input_error","labelTextClass","Input__LabelText","Input__LabelText_top","inputProps","className","e","target","Input__Label","Input__Error","defaultProps","name","data","Button","children","variant","FormRow","H","size","module","exports","getDadataCall","type","query","count","part","fetch","headers","method","body","JSON","stringify","parts","undefined","then","response","json","suggestions","map","item","index","id","catch","console","log","getAddresses","getCompanies","getNames","getPatronymics","getSurnames","removeBackslash","replace","InputSuggest","_getOptionsTimeout","state","activeOptionId","isGettingOptions","isSuggestWrapperVisible","options","handleInputBlur","bind","handleInputChange","handleInputFocus","handleKeyDown","handleSuggestChange","handleSuggestItemHover","callGetOptions","getOptions","makeNextSuggestOptionActive","makePrevSuggestOptionActive","scrollToActiveOption","suggestClose","suggestOpen","blur","focus","this","setTimeout","setState","valueFormat","minLengthToCallGet","length","onEnter","keyCode","preventDefault","activeOption","find","o","inputWrapper","querySelector","nameFormat","clearTimeout","getOptionsMethod","optionsToShow","stateProps","activeOptionIndex","findIndex","activeOptionDOM","element","suggestListDOM","suggest","activeOptionClientRect","getBoundingClientRect","suggestListClientRect","suggestClientRect","isActiveOptionOutOfTheBoxTop","top","isActiveOptionOutOfTheBoxBottom","height","scrollTop","input","formatOption","componentClass","InputSuggest__Input","suggestWrapperClass","InputSuggest__SuggestWrapper","InputSuggest__SuggestWrapper_visible","suggestClass","InputSuggest__Suggest","ref","el","onKeyDown","optionSearchMask","onItemHover","Component","option","Promise","resolve","fromSuggest","Col","Row","Option","isActive","isValue","onClick","onMouseOver","Option_active","Option_value","Suggest","handleOptionClick","handleMouseOver","optionSearchMaskPrepared","trim","Suggest__Options","nameWithHighlights","regexp","RegExp","match","Array","isArray","nameParts","split","matchIndex","forEach","push","Suggest__Option","IconCode","xmlns","width","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","points","getStateData","inputPlaceholder","inputValue","getFilteredOptions","inputValuePrepared","filter","test","SelectBox","isSuggestWrapperClosing","isSuggestWrapperOpening","handleIconClick","prevProps","isEqual","inputValueFormat","filteredOptions","newState","optionsProps","calledFromsuggestOpenMethod","notFoundText","iconClass","SelectBox__Icon","SelectBox__Icon_suggest_visible","SelectBox__Input","SelectBox__SuggestWrapper","SelectBox__SuggestWrapper_closing","SelectBox__SuggestWrapper_opening","SelectBox__SuggestWrapper_visible","SelectBox__Suggest","notFound","SelectBox__NotFound","placeholder"],"mappings":"4SAOA,SAASA,EAAMC,GACb,IACEC,EAQED,EARFC,MACAC,EAOEF,EAPFE,MACAC,EAMEH,EANFG,KACAC,EAKEJ,EALFI,MACAC,EAIEL,EAJFK,OACAC,EAGEN,EAHFM,SACAC,EAEEP,EAFFO,QACGC,EARL,YASIR,EATJ,GAWA,EAAgCS,oBAAS,GAAzC,mBAAOC,EAAP,KAAiBC,EAAjB,KAmBA,IAAMC,EAAaC,IAAGC,IAAOC,aAAR,eAClBD,IAAOE,qBAAuBf,IAG3BgB,EAAiBJ,IAAGC,IAAOI,iBAAR,eACtBJ,IAAOK,uBAAyBf,GAASM,IAGtCU,EAAU,2BACXZ,GADW,IAEda,UAAWT,EACXR,MAAOA,GAAS,GAChBC,OA5BF,WACEM,GAAY,GACU,oBAAXN,GACTA,EAAM,WAAN,cA0BFC,SAvBF,SAAsBgB,GACpBhB,EAASgB,EAAEC,OAAOnB,MAAOJ,IAuBzBO,QArBF,WACEI,GAAY,GACW,oBAAZJ,GACTA,EAAO,WAAP,gBAqBJ,OACE,sBAAKc,UAAWP,IAAOf,MAAvB,UACE,wBAAOsB,UAAWP,IAAOU,aAAzB,UACE,sBAAMH,UAAWJ,EAAjB,SAAkCf,KAChCC,GAAQ,qCAAWiB,MAClBjB,GAAQ,cAAC,IAAD,2BAAeiB,GAAf,IAA2BjB,KAAMA,UAE3CF,GAAS,qBAAKoB,UAAWP,IAAOW,aAAvB,SAAsCxB,OAcxDF,EAAM2B,aAAe,CACnBzB,MAAO,KACPE,KAAM,KACNC,MAAO,KACPC,OAAQ,SAACL,KACTM,SAAU,SAACqB,EAAM3B,EAAO4B,KACxBrB,QAAS,SAACP,MAGGD,O,kHChFf,SAAS8B,EAAO7B,GACd,IAAQ8B,EAAqC9B,EAArC8B,SAAUC,EAA2B/B,EAA3B+B,QAAYvB,EAA9B,YAA6CR,EAA7C,GAEMqB,EAAYR,IAAGC,IAAOe,OAAQf,IAAO,kBAAD,OAAmBiB,KAE7D,OACE,kDAAYvB,GAAZ,IAAwBa,UAAWA,EAAnC,SACGS,KAYPD,EAAOH,aAAe,CACpBK,QAAS,WAGIF,O,6BC1Bf,4BAEA,SAASG,EAAQhC,GACf,IAAQ8B,EAAa9B,EAAb8B,SAER,OAAO,qBAAKT,UAAWP,IAAOkB,QAAvB,SAAiCF,IAS1CE,EAAQN,aAAe,CACrBI,SAAU,MAGGE,O,+GCuBAC,IAtCf,SAAWjC,GACT,IAAQ8B,EAAkC9B,EAAlC8B,SAAUI,EAAwBlC,EAAxBkC,KAAS1B,EAA3B,YAA0CR,EAA1C,GAEMqB,EAAYR,IAAGC,IAAOmB,EAAGnB,IAAO,UAAD,OAAWoB,KAEhD,OAAa,IAATA,GAAuB,MAATA,EAEd,8CAAQ1B,GAAR,IAAoBa,UAAWA,EAA/B,SACGS,KAIM,IAATI,GAAuB,MAATA,EAEd,8CAAQ1B,GAAR,IAAoBa,UAAWA,EAA/B,SACGS,KAIM,IAATI,GAAuB,MAATA,EAEd,8CAAQ1B,GAAR,IAAoBa,UAAWA,EAA/B,SACGS,KAKA,O,iBC/BTK,EAAOC,QAAU,CAAC,OAAS,uBAAuB,uBAAyB,uCAAuC,uBAAyB,yC,gBCA3ID,EAAOC,QAAU,CAAC,QAAU,0B,gBCA5BD,EAAOC,QAAU,CAAC,EAAI,kBAAkB,SAAW,yBAAyB,SAAW,yBAAyB,SAAW,2B,iBCA3HD,EAAOC,QAAU,CAAC,MAAQ,sBAAsB,aAAe,6BAA6B,iBAAmB,iCAAiC,qBAAuB,qCAAqC,aAAe,6BAA6B,mBAAqB,mCAAmC,aAAe,+B,6BCD/T,8KAAMC,EACJ,SAACC,GAAD,OACA,SAACC,GAAD,IAAQC,EAAR,uDAAgB,EAAGC,EAAnB,uDAA0B,KAA1B,OACEC,MAAM,qFAAD,OACkFJ,EADlF,KAEH,CACEK,QAAS,CACP,eAAgB,oBAElBC,OAAQ,OACRC,KAAMC,KAAKC,UAAU,CACnBP,QACAQ,MAAOP,EAAO,CAACA,QAAQQ,EACvBV,YAIHW,MAAK,SAACC,GAAD,OAAcA,EAASC,UAC5BF,MAAK,SAACC,GAAD,OACJA,EAASE,YAAYC,KAAI,SAACC,EAAMC,GAAP,MAAkB,CACzCC,GAAID,EACJ7B,KAAM4B,EAAKnD,MACXwB,KAAM2B,SAGTG,OAAM,SAACzD,GAEN,OADA0D,QAAQC,IAAI,QAAS3D,GACd,QAGF4D,EAAexB,EAAc,WAC7ByB,EAAezB,EAAc,SAC7B0B,EAAW1B,EAAc,OACzB2B,EAAiB3B,EAAc,OAC/B4B,EAAc5B,EAAc,Q,gBCjCzCF,EAAOC,QAAU,CAAC,IAAM,oBAAoB,IAAM,sB,0SCgB5C8B,EAAkB,SAAC9D,GAAD,MACL,kBAAVA,EAAqBA,EAAM+D,QAAQ,MAAO,IAAM/D,GAEnDgE,E,kDACJ,WAAYpE,GAAQ,IAAD,8BACjB,cAAMA,IACDqE,mBAAqB,KAE1B,EAAKC,MAAQ,CACXC,eAAgB,KAChBC,kBAAkB,EAClBC,yBAAyB,EACzBC,QAAS,IAGX,EAAKC,gBAAkB,EAAKA,gBAAgBC,KAArB,gBACvB,EAAKC,kBAAoB,EAAKA,kBAAkBD,KAAvB,gBACzB,EAAKE,iBAAmB,EAAKA,iBAAiBF,KAAtB,gBACxB,EAAKG,cAAgB,EAAKA,cAAcH,KAAnB,gBACrB,EAAKI,oBAAsB,EAAKA,oBAAoBJ,KAAzB,gBAC3B,EAAKK,uBAAyB,EAAKA,uBAAuBL,KAA5B,gBAC9B,EAAKM,eAAiB,EAAKA,eAAeN,KAApB,gBACtB,EAAKO,WAAa,EAAKA,WAAWP,KAAhB,gBAClB,EAAKQ,4BACH,EAAKA,4BAA4BR,KAAjC,gBACF,EAAKS,4BACH,EAAKA,4BAA4BT,KAAjC,gBACF,EAAKU,qBAAuB,EAAKA,qBAAqBV,KAA1B,gBAC5B,EAAKW,aAAe,EAAKA,aAAaX,KAAlB,gBACpB,EAAKY,YAAc,EAAKA,YAAYZ,KAAjB,gBACnB,EAAKa,KAAO,EAAKA,KAAKb,KAAV,gBACZ,EAAKc,MAAQ,EAAKA,MAAMd,KAAX,gBA3BI,E,mDA+BnB,SAAgB5E,GAAQ,IAAD,OACbK,EAAWsF,KAAK3F,MAAhBK,OACRuF,YAAW,WACT,EAAKL,eACL,EAAKM,SAAS,CAAEtB,eAAgB,KAAMG,QAAS,KAC/CrE,EAAOL,KA3CiB,O,+BA+C5B,SAAkBI,GAChB,IAAM0F,EAAc5B,EAAgB9D,GACpC,EAAyCuF,KAAK3F,MAAtCM,EAAR,EAAQA,SAAUyF,EAAlB,EAAkBA,mBAClBzF,EAASwF,EAAaH,KAAK3F,OACvB8F,GAAeA,EAAYE,QAAUD,EACvCJ,KAAKT,eAAeY,IAEpBH,KAAKJ,eACLI,KAAKE,SAAS,CAAEtB,eAAgB,KAAMG,QAAS,Q,8BAInD,WACE,MAA+CiB,KAAK3F,MAA5CI,EAAR,EAAQA,MAAO2F,EAAf,EAAeA,mBAAoBxF,EAAnC,EAAmCA,QAC/BH,GAASA,EAAM4F,QAAUD,GAC3BJ,KAAKT,eAAe9E,GAEtBG,EAAQoF,KAAK3F,S,2BAGf,SAAcsB,GAEZ,GAD6BqE,KAAKrB,MAA1BE,iBAEN,OAAO,EAET,MAA2BmB,KAAK3F,MAAxBiG,EAAR,EAAQA,QAAS7F,EAAjB,EAAiBA,MACjB,EAA6DuF,KAAKrB,MAA1DC,EAAR,EAAQA,eAAgBE,EAAxB,EAAwBA,wBAAyBC,EAAjD,EAAiDA,QAEjD,OAAQpD,EAAE4E,SACR,KA/EW,GAgFT5E,EAAE6E,iBACE1B,GACFkB,KAAKP,8BAEP,MACF,KAtFS,GAuFP9D,EAAE6E,iBACE1B,GACFkB,KAAKN,8BAEP,MACF,KA1FY,GA8FV,GAHA/D,EAAE6E,iBAGE1B,EAAyB,CAC3B,IAAM2B,EAAe1B,EAAQ2B,MAAK,SAACC,GAAD,OAAOA,EAAE7C,KAAOc,KAE9C6B,EACFT,KAAKX,oBAAoBoB,GAEzBH,EAAQ7F,GAAO,EAAOuF,KAAK3F,OAE7B2F,KAAKJ,oBAELU,EAAQ7F,GAAO,EAAOuF,KAAK3F,OAE7B2F,KAAKY,aAAaC,cAAc,SAASf,OAEzC,MACF,KA5GU,GA6GRE,KAAKhB,qB,iCASX,YAA0C,IAApBhD,EAAmB,EAAnBA,KAAmB,IAAbC,YAAa,MAAN,GAAM,EACjC6E,EAAavC,EAAgBvC,GACnC,EAA8BgE,KAAK3F,MAA3BM,EAAR,EAAQA,SAAU2F,EAAlB,EAAkBA,QAClB3F,EAASmG,EAAYd,KAAK3F,MAAO4B,GACjCqE,EAAQQ,GAAY,EAAMd,KAAK3F,MAAO4B,K,oCAGxC,YAAgC,IAAP6B,EAAM,EAANA,GACvBkC,KAAKE,SAAS,CAAEtB,eAAgBd,M,4BAKlC,SAAerD,GAAQ,IAAD,OAChBuF,KAAKtB,oBACPqC,aAAaf,KAAKtB,oBAEpBsB,KAAKtB,mBAAqBuB,YAAW,WACnC,EAAKT,WAAW/E,KAtIY,O,wBA2IhC,SAAWA,GAAQ,IAAD,OAChBuF,KAAKE,SAAS,CAAErB,kBAAkB,IAClC,MAA4CmB,KAAK3F,OAEjD2G,EAFA,EAAQA,kBAESvG,EAFjB,EAA0BwG,eAGvB1D,MAAK,SAACwB,GACL,IAAImC,EAAa,CACftC,eAAgB,KAChBC,kBAAkB,EAClBE,WAEEA,EAAQsB,OAAS,IACnB,EAAKR,cAGLqB,EAAU,2BACLA,GADK,IAERtC,eAAgBG,EAAQ,GAAGjB,MAG/B,EAAKoC,SAASgB,GAAY,WACxB,EAAKvB,6BAGR5B,OAAM,WACL,EAAKmC,SAAS,CACZtB,eAAgB,KAChBC,kBAAkB,EAClBE,QAAS,U,yCAKjB,WAA+B,IAAD,OAC5B,EAAoCiB,KAAKrB,MAAjCI,EAAR,EAAQA,QAASH,EAAjB,EAAiBA,eAEbuC,EAAoBpC,EAAQqC,WAAU,SAACT,GAAD,OAAOA,EAAE7C,KAAOc,MAC/B,IAAvBuC,EACFA,EAAoB,EACXA,EAAoB,EAAIpC,EAAQsB,SACzCc,GAAqB,GAEvBnB,KAAKE,SAAS,CAAEtB,eAAgBG,EAAQoC,GAAmBrD,KAAM,WAC/D,EAAK6B,4B,yCAIT,WAA+B,IAAD,OAC5B,EAAoCK,KAAKrB,MAAjCI,EAAR,EAAQA,QAASH,EAAjB,EAAiBA,eAEbuC,EAAoBpC,EAAQqC,WAAU,SAACT,GAAD,OAAOA,EAAE7C,KAAOc,KACtDuC,EAAoB,IACtBA,GAAqB,EACrBnB,KAAKE,SAAS,CAAEtB,eAAgBG,EAAQoC,GAAmBrD,KAAM,WAC/D,EAAK6B,6B,kCAKX,WACE,IAAQf,EAAmBoB,KAAKrB,MAAxBC,eACFyC,EAAkBrB,KAAKsB,QAAQT,cAAb,6BACAjC,IAElB2C,EAAiBvB,KAAKwB,QAAQX,cAAc,MAElD,GAAIQ,GAAmBE,EAAgB,CACrC,IAAME,EAAyBJ,EAAgBK,wBACzCC,EAAwBJ,EAAeG,wBACvCE,EAAoB5B,KAAKwB,QAAQE,wBAGjCG,EACJJ,EAAuBK,IAAMF,EAAkBE,IAG3CC,EACJN,EAAuBK,IAAML,EAAuBO,OACpDJ,EAAkBE,IAAMF,EAAkBI,OAE5C,GAAIH,EAA8B,CAEhC,IAAMI,EAAYR,EAAuBK,IAAMH,EAAsBG,IACrE9B,KAAKwB,QAAQS,UAAYA,OACpB,GAAIF,EAAiC,CAE1C,IAAME,EACJR,EAAuBK,IACvBH,EAAsBG,KACrBF,EAAkBI,OAASP,EAAuBO,QACrDhC,KAAKwB,QAAQS,UAAYA,M,0BAM/B,WACEjC,KAAKE,SAAS,CACZtB,eAAgB,KAChBE,yBAAyB,M,yBAI7B,WACEkB,KAAKE,SAAS,CAAEpB,yBAAyB,M,kBAI3C,WACEkB,KAAKkC,MAAMpC,S,mBAGb,WACEE,KAAKkC,MAAMnC,U,oBAGb,WAAU,IAAD,OACP,EAaIC,KAAK3F,MAZPC,EADF,EACEA,MACAC,EAFF,EAEEA,MAGAE,GALF,EAGE2F,mBAHF,EAIEa,cAJF,EAKExG,OACA0H,EANF,EAMEA,aAMG1G,GAZL,EAOEuF,iBAPF,EAQEtG,OARF,EASEC,SATF,EAUE2F,QAVF,EAWE1F,QAXF,kBAeA,EAA6DoF,KAAKrB,MAA1DC,EAAR,EAAQA,eAAgBE,EAAxB,EAAwBA,wBAAyBC,EAAjD,EAAiDA,QAE3CqD,EAAiBjH,IAAOsD,aAExBxD,EAAaE,IAAOkH,oBAEpBC,EAAsBpH,IAAGC,IAAOoH,6BAAR,eAC3BpH,IAAOqH,qCACN1D,GAA2BC,EAAQsB,OAAS,IAG1CoC,EAAetH,IAAOuH,sBAE5B,OACE,sBACEC,IAAK,SAACC,GAEJ,OADA,EAAKtB,QAAUsB,EACR,EAAKtB,SAEd5F,UAAW0G,EALb,UAOE,qBACE1G,UAAWT,EACX0H,IAAK,SAACC,GAEJ,OADA,EAAKhC,aAAegC,EACb,EAAKhC,cAJhB,SAOE,cAAC,IAAD,aACEtG,MAAOA,EACPC,MAAOA,EACPoI,IAAK,SAACC,GAEJ,OADA,EAAKV,MAAQU,EACN,EAAKV,OAEdzH,MAAOA,EACPC,OAAQsF,KAAKhB,gBACbrE,SAAUqF,KAAKd,kBACftE,QAASoF,KAAKb,iBACd0D,UAAW7C,KAAKZ,eACZ3D,MAGR,qBAAKC,UAAW4G,EAAhB,SACE,qBACE5G,UAAW+G,EACXE,IAAK,SAACC,GAEJ,OADA,EAAKpB,QAAUoB,EACR,EAAKpB,SAJhB,SAOE,cAAC,IAAD,CACE5C,eAAgBA,EAChBkE,iBAAkBrI,EAClBsE,QAASA,EACTtE,MAAOA,EACP0H,aAAcA,EACdxH,SAAUqF,KAAKX,oBACf0D,YAAa/C,KAAKV,oC,GApUL0D,aA4V3BvE,EAAa1C,aAAe,CAC1BzB,MAAO,KACPC,MAAO,KACP6F,mBAAoB,EACpBa,cAAe,EACfxG,MAAO,KAEP0H,aAAc,SAACnG,EAAMiH,GAAP,OAAkBjH,GAChCgF,iBAAkB,SAACpE,EAAOC,GAAR,OAAkBqG,QAAQC,QAAQ,KACpDzI,OAAQ,SAACL,KACTM,SAAU,SAACqB,EAAM3B,EAAO4B,KACxBqE,QAAS,SAAC7F,EAAO2I,EAAa/I,EAAO4B,KACrCrB,QAAS,SAACP,MAGGoE,O,iIC3Xf,SAAS4E,EAAIhJ,GACX,IAAQ8B,EAAa9B,EAAb8B,SAER,OAAO,qBAAKT,UAAWP,IAAOkI,IAAvB,SAA6BlH,IAStCkH,EAAItH,aAAe,CACjBI,SAAU,MAGGkH,QChBf,SAASC,EAAIjJ,GACX,IAAQ8B,EAAa9B,EAAb8B,SAER,OAAO,qBAAKT,UAAWP,IAAOmI,IAAvB,SAA6BnH,IAStCmH,EAAIvH,aAAe,CACjBI,SAAU,MAGGmH,S,iFCff,SAASC,EAAOlJ,GAAQ,IAAD,EACb8B,EAA0D9B,EAA1D8B,SAAU2B,EAAgDzD,EAAhDyD,GAAI0F,EAA4CnJ,EAA5CmJ,SAAUC,EAAkCpJ,EAAlCoJ,QAASC,EAAyBrJ,EAAzBqJ,QAASC,EAAgBtJ,EAAhBsJ,YAWlD,IAAMvB,EAAiBlH,IAAGC,IAAOoI,QAAR,mBACtBpI,IAAOyI,cAAgBJ,GADD,cAEtBrI,IAAO0I,aAAeJ,GAFA,IAKzB,OACE,qBACE/H,UAAW0G,EACXtE,GAAE,4BAAuBA,GACzB4F,QAjBJ,SAAqB/H,GACnBA,EAAE6E,iBACFkD,EAAQ5F,IAgBN6F,YAdJ,WACEA,EAAY7F,IASZ,SAMG3B,IAgBPoH,EAAOxH,aAAe,CACpBI,SAAU,KACV2B,GAAI,KACJ0F,UAAU,EACVC,SAAS,EACTC,QAAS,SAAC5F,KACV6F,YAAa,SAAC7F,MAGDyF,Q,iBC/Cf,SAASO,EAAQzJ,GACf,IACEuE,EAOEvE,EAPFuE,eACAkE,EAMEzI,EANFyI,iBACA/D,EAKE1E,EALF0E,QACAtE,EAIEJ,EAJFI,MACA0H,EAGE9H,EAHF8H,aACAxH,EAEEN,EAFFM,SACAoI,EACE1I,EADF0I,YAIF,SAASgB,EAAkBjG,GACzBnD,EAASoE,EAAQ2B,MAAK,SAACC,GAAD,OAAOA,EAAE7C,KAAOA,MAGxC,SAASkG,EAAgBlG,GACvBiF,EAAYhE,EAAQ2B,MAAK,SAACC,GAAD,OAAOA,EAAE7C,KAAOA,MAG3C,IAAMmG,EAA2BnB,EAC7BA,EACGoB,OACA1F,QACC,wDACA,QAEJ,KAEJ,OACE,qBAAK9C,UAAWP,IAAO2I,QAAvB,SACE,oBAAIpI,UAAWP,IAAOgJ,iBAAtB,SACGpF,EAAQpB,KAAI,SAACsF,GACZ,IAAQnF,EAAkBmF,EAAlBnF,GAAR,EAA0BmF,EAAdjH,YAAZ,MAAmB,GAAnB,EAEIoI,EAAqB,CAACpI,GAC1B,GAAIiI,EAA0B,CAC5B,IAAMI,EAAS,IAAIC,OAAOL,EAA0B,MAC9CM,EAAQvI,EAAKuI,MAAMF,GAEzB,GAAIG,MAAMC,QAAQF,GAAQ,CACxB,IAAMG,EAAY1I,EAAK2I,MAAMN,GAC7BD,EAAqB,GAErB,IAAIQ,EAAa,EACjBF,EAAUG,SAAQ,SAAC/H,GACjBsH,EAAmBU,KAAKhI,GACpB8H,EAAaL,EAAMlE,SACrB+D,EAAmBU,KACjB,4BAAqBP,EAAMK,IAAnBA,IAEVA,GAAc,OAMtB,OACE,oBAAalJ,UAAWP,IAAO4J,gBAA/B,SACE,cAAC,EAAD,CACEjH,GAAIA,EACJ0F,SAAU1F,IAAOc,EACjB6E,QAAS3F,IAAOrD,EAChBiJ,QAASK,EACTJ,YAAaK,EALf,SAOG7B,EAAaiC,EAAoBnB,MAR7BnF,UAiCrBgG,EAAQ/H,aAAe,CACrB6C,eAAgB,KAChBkE,iBAAkB,GAClB/D,QAAS,GACTtE,MAAO,KACP0H,aAAc,SAACnG,EAAMiH,GAAP,OAAkBjH,GAChCrB,SAAU,SAACsI,KACXF,YAAa,SAACE,MAGDa,QC3GAA,O,uJCmBAkB,MApBf,WACE,OACE,sBACEC,MAAM,6BACNC,MAAM,KACNlD,OAAO,KACPmD,QAAQ,YACRC,KAAK,OACLC,OAAO,eACPC,YAAY,IACZC,cAAc,QACdC,eAAe,QACf9J,UAAU,uBAVZ,UAYE,0BAAU+J,OAAO,qBACjB,0BAAUA,OAAO,sB,iBCDjBlH,EAAkB,SAAC9D,GAAD,MACL,kBAAVA,EAAqBA,EAAM+D,QAAQ,MAAO,IAAM/D,GAEnDiL,EAAe,SAAC,GAAwB,IAAtB3G,EAAqB,EAArBA,QAAStE,EAAY,EAAZA,MACzBgG,EAAe1B,EAAQ2B,MAAK,SAACC,GAAD,OAAOA,EAAE7C,KAAOrD,KAC5CmE,EAAiB6B,EAAeA,EAAa3C,GAAK,KAClD6H,EAAmBlF,EAAeA,EAAazE,KAAO,GAE5D,MAAO,CAAE4C,iBAAgB+G,mBAAkBC,WADxBrH,EAAgBoH,KAI/BE,EAAqB,SAAC9G,GAA8B,IAArB6G,EAAoB,uDAAP,GAC1CE,EAAqBF,EACxB1B,OACA1F,QAAQ,mCAAoC,QAC/C,OAAIsH,EACK/G,EAAQgH,QAAO,SAACpF,GAAD,OACpB,IAAI2D,OAAOwB,EAAoB,MAAME,KAAKrF,EAAE3E,SAGzC+C,GASHkH,E,kDACJ,WAAY5L,GAAQ,IAAD,8BACjB,cAAMA,IACDsE,MAAQ,CACXC,eAAgB,KAChBgH,WAAY,GACZD,iBAAkB,GAElBO,yBAAyB,EACzBC,yBAAyB,EACzBrH,yBAAyB,GAG3B,EAAKsH,gBAAkB,EAAKA,gBAAgBnH,KAArB,gBACvB,EAAKD,gBAAkB,EAAKA,gBAAgBC,KAArB,gBACvB,EAAKC,kBAAoB,EAAKA,kBAAkBD,KAAvB,gBACzB,EAAKE,iBAAmB,EAAKA,iBAAiBF,KAAtB,gBACxB,EAAKG,cAAgB,EAAKA,cAAcH,KAAnB,gBACrB,EAAKI,oBAAsB,EAAKA,oBAAoBJ,KAAzB,gBAC3B,EAAKK,uBAAyB,EAAKA,uBAAuBL,KAA5B,gBAC9B,EAAKW,aAAe,EAAKA,aAAaX,KAAlB,gBACpB,EAAKY,YAAc,EAAKA,YAAYZ,KAAjB,gBACnB,EAAKQ,4BACH,EAAKA,4BAA4BR,KAAjC,gBACF,EAAKS,4BACH,EAAKA,4BAA4BT,KAAjC,gBACF,EAAKU,qBAAuB,EAAKA,qBAAqBV,KAA1B,gBAzBX,E,qDA6BnB,WACE,MAA4Ce,KAAK3F,MAAzCyE,+BAAR,SACA,EAAyD4G,EACvD1F,KAAK3F,OADCuE,EAAR,EAAQA,eAAgB+G,EAAxB,EAAwBA,iBAAkBC,EAA1C,EAA0CA,WAG1C5F,KAAKE,SAAS,CACZtB,iBACA+G,mBACAC,aACA9G,8B,gCAIJ,SAAmBuH,GAEjB,MAAoDrG,KAAK3F,MAAjDI,EAAR,EAAQA,MAAOsE,EAAf,EAAeA,QAASD,EAAxB,EAAwBA,wBACxB,GAAIuH,EAAU5L,QAAUA,IAAU6L,IAAQD,EAAUtH,QAASA,GAAU,CACrE,MAAyD2G,EACvD1F,KAAK3F,OADCuE,EAAR,EAAQA,eAAgB+G,EAAxB,EAAwBA,iBAAkBC,EAA1C,EAA0CA,WAG1C5F,KAAKE,SAAS,CAAEtB,iBAAgB+G,mBAAkBC,eAIhDS,EAAUvH,0BAA4BA,GACxCkB,KAAKE,SAAS,CAAEpB,8B,6BAKpB,SAAgBnD,GACdA,EAAE6E,iBACkCR,KAAKrB,MAAjCG,yBAENkB,KAAKY,aAAaC,cAAc,SAASd,U,6BAK7C,WAAmB,IAAD,OAChBC,KAAKE,SAAS,CAAEgG,yBAAyB,IAIzCjG,YAAW,WACT,EAAKL,eACL,IAAQnF,EAAU,EAAKJ,MAAfI,MACR,EAA6C,EAAKkE,MAA1CC,EAAR,EAAQA,eAAgB+G,EAAxB,EAAwBA,iBACxB,EAAKzF,SAAS,CACZtB,eAAgBnE,GAASmE,EACzBgH,WAAYrH,EAAgBoH,GAC5BO,yBAAyB,MAvFH,O,+BA4F5B,SAAkBN,GAAa,IAAD,OACtBW,EAAmBhI,EAAgBqH,GACzC5F,KAAKE,SAAS,CAAE0F,WAAYW,IAAoB,WAC9C,MAA2B,EAAKlM,MAAxBI,EAAR,EAAQA,MAAOsE,EAAf,EAAeA,QAETyH,EAAkBX,EAAmB9G,EAASwH,GACpD,GAA+B,IAA3BC,EAAgBnG,OAClB,OAAO,EAGL5F,IACsC+L,EAAgB9F,MACtD,SAACC,GAAD,OAAOA,EAAE7C,KAAOrD,KAIhB,EAAKyF,SAAS,CACZtB,eAAgBnE,IAKlB,EAAKyF,SAAS,CACZtB,eAAgB4H,EAAgB,GAAG1I,KAKvC,EAAKoC,SAAS,CACZtB,eAAgB4H,EAAgB,GAAG1I,U,8BAO3C,WAAoB,IAAD,OACjBkC,KAAKE,SAAS,CAAE0F,WAAY,GAAIO,yBAAyB,IACzDnG,KAAKH,cAGLI,YAAW,WACT,EAAKC,SAAS,CAAEiG,yBAAyB,MArIjB,O,2BAyI5B,SAAcxK,GACZ,MAAoDqE,KAAKrB,MAAjDG,EAAR,EAAQA,wBAAyBF,EAAjC,EAAiCA,eAE3BqE,EAD4BjD,KAAK3F,MAA/B0E,QACoB2B,MAAK,SAACC,GAAD,OAAOA,EAAE7C,KAAOc,KACjD,OAAQjD,EAAE4E,SACR,KA5IW,GA6IT5E,EAAE6E,iBACE1B,EACFkB,KAAKP,8BAELO,KAAKH,cAEP,MACF,KArJS,GAsJPlE,EAAE6E,iBACE1B,EACFkB,KAAKN,8BAELM,KAAKH,cAEP,MACF,KA3JY,GA4JNoD,IACFjD,KAAKX,oBAAoB,CAAEvB,GAAIc,IAC/BoB,KAAKJ,eACLI,KAAKY,aAAaC,cAAc,SAASf,W,iCASjD,YAA6B,IAAPhC,EAAM,EAANA,IAEpBnD,EADqBqF,KAAK3F,MAAlBM,UACCmD,EAAIkC,KAAK3F,S,oCAGpB,YAAgC,IAAPyD,EAAM,EAANA,GACvBkC,KAAKE,SAAS,CAAEtB,eAAgBd,M,0BAIlC,WACEkC,KAAKE,SAAS,CAAEpB,yBAAyB,M,yBAG3C,WAAe,IAAD,OACZ,EAA2BkB,KAAK3F,MAAxB0E,EAAR,EAAQA,QAAStE,EAAjB,EAAiBA,MACTmL,EAAe5F,KAAKrB,MAApBiH,WAEFY,EAAkBX,EAAmB9G,EAAS6G,GAEhDa,EAAW,CAAE3H,yBAAyB,QACXxB,IAAV7C,GAAiC,OAAVA,GAA4B,KAAVA,EAIxD+L,EAAgBnG,OAAS,IAC3BoG,EAAQ,2BACHA,GADG,IAEN7H,eAAgB4H,EAAgB,GAAKA,EAAgB,GAAG1I,GAAK,UAIzB0I,EAAgB9F,MACtD,SAACC,GAAD,OAAOA,EAAE7C,KAAOrD,OAKhBgM,EAAQ,2BACHA,GADG,IAEN7H,eAAgB4H,EAAgB,GAAKA,EAAgB,GAAG1I,GAAK,QAKnEkC,KAAKE,SAASuG,GAAU,WACtB,EAAK9G,sBAAqB,Q,yCAI9B,WAA+B,IAAD,OAC5B,EAAuCK,KAAKrB,MAApCiH,EAAR,EAAQA,WAAYhH,EAApB,EAAoBA,eACH8H,EAAiB1G,KAAK3F,MAA/B0E,QACFA,EAAU8G,EAAmBa,EAAcd,GACjD,GAAuB,IAAnB7G,EAAQsB,OAAZ,CAIA,IAAIc,EAAoBpC,EAAQqC,WAAU,SAACT,GAAD,OAAOA,EAAE7C,KAAOc,MAC/B,IAAvBuC,EACFA,EAAoB,EACXA,EAAoB,EAAIpC,EAAQsB,SACzCc,GAAqB,GAGvBnB,KAAKE,SAAS,CAAEtB,eAAgBG,EAAQoC,GAAmBrD,KAAM,WAC/D,EAAK6B,6B,yCAIT,WAA+B,IAAD,OAC5B,EAAuCK,KAAKrB,MAApCC,EAAR,EAAQA,eAAgBgH,EAAxB,EAAwBA,WACPc,EAAiB1G,KAAK3F,MAA/B0E,QACFA,EAAU8G,EAAmBa,EAAcd,GACjD,GAAuB,IAAnB7G,EAAQsB,OAAZ,CAIA,IAAIc,EAAoBpC,EAAQqC,WAAU,SAACT,GAAD,OAAOA,EAAE7C,KAAOc,KACtDuC,EAAoB,IACtBA,GAAqB,EACrBnB,KAAKE,SAAS,CAAEtB,eAAgBG,EAAQoC,GAAmBrD,KAAM,WAC/D,EAAK6B,8B,kCAKX,WAA2D,IAAtCgH,EAAqC,wDAChD/H,EAAmBoB,KAAKrB,MAAxBC,eACFyC,EAAkBrB,KAAKsB,QAAQT,cAAb,6BACAjC,IAElB2C,EAAiBvB,KAAKwB,QAAQX,cAAc,MAElD,GAAIQ,GAAmBE,EAAgB,CACrC,IAAME,EAAyBJ,EAAgBK,wBACzCC,EAAwBJ,EAAeG,wBACvCE,EAAoB5B,KAAKwB,QAAQE,wBAGjCG,EACJJ,EAAuBK,IAAMF,EAAkBE,IAG3CC,EACJN,EAAuBK,IAAML,EAAuBO,OACpDJ,EAAkBE,IAAMF,EAAkBI,OAE5C,GAAI2E,EAA6B,CAE/B,IAAM1E,EACJR,EAAuBK,IACvBH,EAAsBG,KACrBF,EAAkBI,OAAS,EAAIP,EAAuBO,OAAS,GAClEhC,KAAKwB,QAAQS,UAAYA,OACpB,GAAIJ,EAA8B,CAEvC,IAAMI,EAAYR,EAAuBK,IAAMH,EAAsBG,IACrE9B,KAAKwB,QAAQS,UAAYA,OACpB,GAAIF,EAAiC,CAE1C,IAAME,EACJR,EAAuBK,IACvBH,EAAsBG,KACrBF,EAAkBI,OAASP,EAAuBO,QACrDhC,KAAKwB,QAAQS,UAAYA,M,oBAK/B,WAAU,IAAD,SACP,EACEjC,KAAK3F,MADCC,EAAR,EAAQA,MAAOC,EAAf,EAAeA,MAAOC,EAAtB,EAAsBA,KAAMoM,EAA5B,EAA4BA,aAAc7H,EAA1C,EAA0CA,QAAStE,EAAnD,EAAmDA,MAAO0H,EAA1D,EAA0DA,aAG1D,EAOInC,KAAKrB,MANPC,EADF,EACEA,eACA+G,EAFF,EAEEA,iBACAC,EAHF,EAGEA,WACAM,EAJF,EAIEA,wBACAC,EALF,EAKEA,wBACArH,EANF,EAMEA,wBAGIsD,EAAiBjH,IAAO8K,UAExBY,EAAY3L,IAAGC,IAAO2L,gBAAR,eACjB3L,IAAO4L,gCAAkCjI,IAGtC7D,EAAaE,IAAO6L,iBAEpB1E,EAAsBpH,IAAGC,IAAO8L,2BAAR,mBAC3B9L,IAAO+L,kCAAoChB,GADhB,cAE3B/K,IAAOgM,kCAAoChB,GAFhB,cAG3BhL,IAAOiM,kCAAoCtI,GAHhB,IAMxB2D,EAAetH,IAAOkM,mBAEtBC,EAAWnM,IAAOoM,oBAElBf,EAAkBX,EAAmB9G,EAAS6G,GAEpD,OACE,sBACEjD,IAAK,SAACC,GAEJ,OADA,EAAKtB,QAAUsB,EACR,EAAKtB,SAEd5F,UAAW0G,EALb,UAOE,qBAAK1G,UAAWmL,EAAWnD,QAAS1D,KAAKoG,gBAAzC,SACE,cAAC,EAAD,MAEF,qBACE1K,UAAWT,EACX0H,IAAK,SAACC,GAEJ,OADA,EAAKhC,aAAegC,EACb,EAAKhC,cAJhB,SAOE,cAACxG,EAAA,EAAD,CACEE,MAAOA,EACPC,MAAOA,EACPC,KAAMA,EACNC,MAAOyL,EAA0BP,EAAmBC,EACpD4B,YAAa7B,EACbjL,OAAQsF,KAAKhB,gBACbrE,SAAUqF,KAAKd,kBACftE,QAASoF,KAAKb,iBACd0D,UAAW7C,KAAKZ,kBAGpB,qBAAK1D,UAAW4G,EAAhB,SACE,qBACE5G,UAAW+G,EACXE,IAAK,SAACC,GAEJ,OADA,EAAKpB,QAAUoB,EACR,EAAKpB,SAJhB,SAOGgF,EAAgBnG,OAAS,EACxB,cAACyD,EAAA,EAAD,CACElF,eAAgBA,EAChBkE,iBAAkB8C,EAClB7G,QAASyH,EACT/L,MAAOA,EACP0H,aAAcA,EACdxH,SAAUqF,KAAKX,oBACf0D,YAAa/C,KAAKV,yBAGpB,qBAAK5D,UAAW4L,EAAhB,SAA2BV,e,GA1XjB5D,aAwZxBiD,EAAUlK,aAAe,CACvBzB,MAAO,KACPC,MAAO,KACPqM,aAAc,uHACd7H,QAAS,GACTtE,MAAO,KACPD,KAAM,KACNsE,yBAAyB,EAEzBqD,aAAc,SAACnG,EAAMiH,GAAP,OAAkBjH,GAChCrB,SAAU,SAACmD,EAAIzD,MAGF4L,O,qBC/cfzJ,EAAOC,QAAU,CAAC,OAAS,uBAAuB,cAAgB,8BAA8B,aAAe,+B,gBCA/GD,EAAOC,QAAU,CAAC,iBAAmB,kCAAkC,gBAAkB,mC,gBCAzFD,EAAOC,QAAU,CAAC,aAAe,6BAA6B,oBAAsB,oCAAoC,6BAA+B,6CAA6C,qCAAuC,qDAAqD,qCAAuC,qDAAqD,qCAAuC,qDAAqD,sBAAwB,wC,mBCAhfD,EAAOC,QAAU,CAAC,UAAY,0BAA0B,gBAAkB,gCAAgC,iBAAmB,iCAAiC,0BAA4B,0CAA0C,kCAAoC,kDAAkD,kCAAoC,kDAAkD,kCAAoC,kDAAkD,mBAAqB,mCAAmC,oBAAsB","file":"static/js/1.8d2fe8d4.chunk.js","sourcesContent":["import { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport InputMask from 'react-input-mask'\nimport cn from 'classnames'\n\nimport styles from './styles.module.scss'\n\nfunction Input(props) {\n  const {\n    error,\n    label,\n    mask,\n    value,\n    onBlur,\n    onChange,\n    onFocus,\n    ...otherProps\n  } = props\n\n  const [hasFocus, setHasFocus] = useState(false)\n\n  // Handlers\n  function handleBlur(...args) {\n    setHasFocus(false)\n    if (typeof onBlur === 'function') {\n      onBlur(...args)\n    }\n  }\n  function handleChange(e) {\n    onChange(e.target.value, props)\n  }\n  function handleFocus(...args) {\n    setHasFocus(true)\n    if (typeof onFocus === 'function') {\n      onFocus(...args)\n    }\n  }\n\n  const inputClass = cn(styles.Input__Input, {\n    [styles.Input__Input_error]: !!error,\n  })\n\n  const labelTextClass = cn(styles.Input__LabelText, {\n    [styles.Input__LabelText_top]: !!value || hasFocus,\n  })\n\n  const inputProps = {\n    ...otherProps,\n    className: inputClass,\n    value: value || '',\n    onBlur: handleBlur,\n    onChange: handleChange,\n    onFocus: handleFocus,\n  }\n\n  return (\n    <div className={styles.Input}>\n      <label className={styles.Input__Label}>\n        <span className={labelTextClass}>{label}</span>\n        {!mask && <input {...inputProps} />}\n        {!!mask && <InputMask {...inputProps} mask={mask} />}\n      </label>\n      {!!error && <div className={styles.Input__Error}>{error}</div>}\n    </div>\n  )\n}\n\nInput.propTypes = {\n  error: PropTypes.string,\n  label: PropTypes.string.isRequired,\n  mask: PropTypes.string,\n  value: PropTypes.string,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func,\n}\nInput.defaultProps = {\n  error: null,\n  mask: null,\n  value: null,\n  onBlur: (props) => {},\n  onChange: (name, props, data) => {},\n  onFocus: (props) => {},\n}\n\nexport default Input\n","import PropTypes from 'prop-types'\nimport cn from 'classnames'\n\nimport styles from './styles.module.scss'\n\nfunction Button(props) {\n  const { children, variant, ...otherProps } = props\n\n  const className = cn(styles.Button, styles[`Button_variant_${variant}`])\n\n  return (\n    <button {...otherProps} className={className}>\n      {children}\n    </button>\n  )\n}\n\nButton.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.node,\n    PropTypes.arrayOf(PropTypes.node),\n  ]),\n  variant: PropTypes.oneOf(['default', 'primary']),\n}\nButton.defaultProps = {\n  variant: 'default',\n}\n\nexport default Button\n","import PropTypes from 'prop-types'\n\nimport styles from './styles.module.scss'\n\nfunction FormRow(props) {\n  const { children } = props\n\n  return <div className={styles.FormRow}>{children}</div>\n}\n\nFormRow.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.node,\n    PropTypes.arrayOf(PropTypes.node),\n  ]),\n}\nFormRow.defaultProps = {\n  children: null,\n}\n\nexport default FormRow\n","import PropTypes from 'prop-types'\nimport cn from 'classnames'\n\nimport styles from './styles.module.scss'\n\nfunction H(props) {\n  const { children, size, ...otherProps } = props\n\n  const className = cn(styles.H, styles[`H_size_${size}`])\n\n  if (size === 1 || size === '1') {\n    return (\n      <h1 {...otherProps} className={className}>\n        {children}\n      </h1>\n    )\n  }\n  if (size === 2 || size === '2') {\n    return (\n      <h2 {...otherProps} className={className}>\n        {children}\n      </h2>\n    )\n  }\n  if (size === 3 || size === '3') {\n    return (\n      <h3 {...otherProps} className={className}>\n        {children}\n      </h3>\n    )\n  }\n\n  return null\n}\n\nH.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.node,\n    PropTypes.arrayOf(PropTypes.node),\n  ]),\n  size: PropTypes.oneOf([1, '1', 2, '2', 3, '3']).isRequired,\n}\n\nexport default H\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"styles_Button__1Ekk8\",\"Button_variant_default\":\"styles_Button_variant_default__3GtCQ\",\"Button_variant_primary\":\"styles_Button_variant_primary__G0dsg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FormRow\":\"styles_FormRow__1xnvt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"H\":\"styles_H__10j-W\",\"H_size_1\":\"styles_H_size_1__DLwdi\",\"H_size_2\":\"styles_H_size_2__2d1Lt\",\"H_size_3\":\"styles_H_size_3__2RHfa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Input\":\"styles_Input__18MvC\",\"Input__Label\":\"styles_Input__Label__3eMsY\",\"Input__LabelText\":\"styles_Input__LabelText__1pkll\",\"Input__LabelText_top\":\"styles_Input__LabelText_top__3UohT\",\"Input__Input\":\"styles_Input__Input__25z1j\",\"Input__Input_error\":\"styles_Input__Input_error__161xf\",\"Input__Error\":\"styles_Input__Error__2huak\"};","const getDadataCall =\n  (type) =>\n  (query, count = 5, part = null) =>\n    fetch(\n      `https://front-dhr-st1.dhr-st.dc-yc.b-pl.pro/dadata/suggestions/api/4_1/rs/suggest/${type}/`,\n      {\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        method: 'POST',\n        body: JSON.stringify({\n          count,\n          parts: part ? [part] : undefined,\n          query,\n        }),\n      }\n    )\n      .then((response) => response.json())\n      .then((response) =>\n        response.suggestions.map((item, index) => ({\n          id: index,\n          name: item.value,\n          data: item,\n        }))\n      )\n      .catch((error) => {\n        console.log('error', error)\n        return []\n      })\n\nexport const getAddresses = getDadataCall('address')\nexport const getCompanies = getDadataCall('party')\nexport const getNames = getDadataCall('fio', 'NAME')\nexport const getPatronymics = getDadataCall('fio', 'PATRONYMIC')\nexport const getSurnames = getDadataCall('fio', 'SURNAME')\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Row\":\"styles_Row__3p-fl\",\"Col\":\"styles_Col__2F8Kj\"};","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport cn from 'classnames'\n\n// Components\nimport Input from '../Input'\nimport Suggest from '../Suggest'\n\nimport styles from './styles.module.scss'\n\nconst KEY_UP = 38\nconst KEY_DOWN = 40\nconst KEY_ENTER = 13\nconst KEY_ESC = 27\nconst SUGGEST_CLOSING_DELAY = 200\nconst SUGGEST_GET_OPTIONS_DELAY = 200\n\nconst removeBackslash = (value) =>\n  typeof value === 'string' ? value.replace(/\\\\/g, '') : value\n\nclass InputSuggest extends Component {\n  constructor(props) {\n    super(props)\n    this._getOptionsTimeout = null\n\n    this.state = {\n      activeOptionId: null,\n      isGettingOptions: false,\n      isSuggestWrapperVisible: false,\n      options: [],\n    }\n\n    this.handleInputBlur = this.handleInputBlur.bind(this)\n    this.handleInputChange = this.handleInputChange.bind(this)\n    this.handleInputFocus = this.handleInputFocus.bind(this)\n    this.handleKeyDown = this.handleKeyDown.bind(this)\n    this.handleSuggestChange = this.handleSuggestChange.bind(this)\n    this.handleSuggestItemHover = this.handleSuggestItemHover.bind(this)\n    this.callGetOptions = this.callGetOptions.bind(this)\n    this.getOptions = this.getOptions.bind(this)\n    this.makeNextSuggestOptionActive =\n      this.makeNextSuggestOptionActive.bind(this)\n    this.makePrevSuggestOptionActive =\n      this.makePrevSuggestOptionActive.bind(this)\n    this.scrollToActiveOption = this.scrollToActiveOption.bind(this)\n    this.suggestClose = this.suggestClose.bind(this)\n    this.suggestOpen = this.suggestOpen.bind(this)\n    this.blur = this.blur.bind(this)\n    this.focus = this.focus.bind(this)\n  }\n\n  // Input handlers\n  handleInputBlur(props) {\n    const { onBlur } = this.props\n    setTimeout(() => {\n      this.suggestClose()\n      this.setState({ activeOptionId: null, options: [] })\n      onBlur(props)\n    }, SUGGEST_CLOSING_DELAY)\n  }\n\n  handleInputChange(value) {\n    const valueFormat = removeBackslash(value)\n    const { onChange, minLengthToCallGet } = this.props\n    onChange(valueFormat, this.props)\n    if (valueFormat && valueFormat.length >= minLengthToCallGet) {\n      this.callGetOptions(valueFormat)\n    } else {\n      this.suggestClose()\n      this.setState({ activeOptionId: null, options: [] })\n    }\n  }\n\n  handleInputFocus() {\n    const { value, minLengthToCallGet, onFocus } = this.props\n    if (value && value.length >= minLengthToCallGet) {\n      this.callGetOptions(value)\n    }\n    onFocus(this.props)\n  }\n\n  handleKeyDown(e) {\n    const { isGettingOptions } = this.state\n    if (isGettingOptions) {\n      return false\n    }\n    const { onEnter, value } = this.props\n    const { activeOptionId, isSuggestWrapperVisible, options } = this.state\n\n    switch (e.keyCode) {\n      case KEY_DOWN:\n        e.preventDefault()\n        if (isSuggestWrapperVisible) {\n          this.makeNextSuggestOptionActive()\n        }\n        break\n      case KEY_UP:\n        e.preventDefault()\n        if (isSuggestWrapperVisible) {\n          this.makePrevSuggestOptionActive()\n        }\n        break\n      case KEY_ENTER:\n        e.preventDefault()\n\n        // Саджест открыт\n        if (isSuggestWrapperVisible) {\n          const activeOption = options.find((o) => o.id === activeOptionId)\n          // И есть выбранная опция\n          if (activeOption) {\n            this.handleSuggestChange(activeOption)\n          } else {\n            onEnter(value, false, this.props)\n          }\n          this.suggestClose()\n        } else {\n          onEnter(value, false, this.props)\n        }\n        this.inputWrapper.querySelector('input').blur()\n\n        break\n      case KEY_ESC:\n        this.handleInputBlur()\n        break\n      default:\n        break\n    }\n    return undefined\n  }\n\n  // Suggest handlers\n  handleSuggestChange({ name, data = {} }) {\n    const nameFormat = removeBackslash(name)\n    const { onChange, onEnter } = this.props\n    onChange(nameFormat, this.props, data)\n    onEnter(nameFormat, true, this.props, data)\n  }\n\n  handleSuggestItemHover({ id }) {\n    this.setState({ activeOptionId: id })\n  }\n\n  /* eslint-disable */\n  // Options methods\n  callGetOptions(value) {\n    if (this._getOptionsTimeout) {\n      clearTimeout(this._getOptionsTimeout)\n    }\n    this._getOptionsTimeout = setTimeout(() => {\n      this.getOptions(value)\n    }, SUGGEST_GET_OPTIONS_DELAY)\n  }\n  /* eslint-enable */\n\n  getOptions(value) {\n    this.setState({ isGettingOptions: true })\n    const { getOptionsMethod, optionsToShow } = this.props\n\n    getOptionsMethod(value, optionsToShow)\n      .then((options) => {\n        let stateProps = {\n          activeOptionId: null,\n          isGettingOptions: false,\n          options,\n        }\n        if (options.length > 0) {\n          this.suggestOpen()\n          // Если список опций в \"саджесте\" НЕ пустой,\n          // то выбираем первую опцию в качестве activeOptionId\n          stateProps = {\n            ...stateProps,\n            activeOptionId: options[0].id,\n          }\n        }\n        this.setState(stateProps, () => {\n          this.scrollToActiveOption()\n        })\n      })\n      .catch(() => {\n        this.setState({\n          activeOptionId: null,\n          isGettingOptions: false,\n          options: [],\n        })\n      })\n  }\n\n  makeNextSuggestOptionActive() {\n    const { options, activeOptionId } = this.state\n\n    let activeOptionIndex = options.findIndex((o) => o.id === activeOptionId)\n    if (activeOptionIndex === -1) {\n      activeOptionIndex = 0\n    } else if (activeOptionIndex + 1 < options.length) {\n      activeOptionIndex += 1\n    }\n    this.setState({ activeOptionId: options[activeOptionIndex].id }, () => {\n      this.scrollToActiveOption()\n    })\n  }\n\n  makePrevSuggestOptionActive() {\n    const { options, activeOptionId } = this.state\n\n    let activeOptionIndex = options.findIndex((o) => o.id === activeOptionId)\n    if (activeOptionIndex > 0) {\n      activeOptionIndex -= 1\n      this.setState({ activeOptionId: options[activeOptionIndex].id }, () => {\n        this.scrollToActiveOption()\n      })\n    }\n  }\n\n  scrollToActiveOption() {\n    const { activeOptionId } = this.state\n    const activeOptionDOM = this.element.querySelector(\n      `#select_box_option_${activeOptionId}`\n    )\n    const suggestListDOM = this.suggest.querySelector('ul')\n\n    if (activeOptionDOM && suggestListDOM) {\n      const activeOptionClientRect = activeOptionDOM.getBoundingClientRect()\n      const suggestListClientRect = suggestListDOM.getBoundingClientRect()\n      const suggestClientRect = this.suggest.getBoundingClientRect()\n\n      // вышли ЗА ВЕРХНЮЮ границу контейнера\n      const isActiveOptionOutOfTheBoxTop =\n        activeOptionClientRect.top < suggestClientRect.top\n\n      // вышли ЗА НИЖНЮЮ границу контейнера\n      const isActiveOptionOutOfTheBoxBottom =\n        activeOptionClientRect.top + activeOptionClientRect.height >\n        suggestClientRect.top + suggestClientRect.height\n\n      if (isActiveOptionOutOfTheBoxTop) {\n        // прокручиваем активный элемент К ВЕРХУ контейнера\n        const scrollTop = activeOptionClientRect.top - suggestListClientRect.top\n        this.suggest.scrollTop = scrollTop\n      } else if (isActiveOptionOutOfTheBoxBottom) {\n        // прокручиваем активный элемент К НИЗУ контейнера\n        const scrollTop =\n          activeOptionClientRect.top -\n          suggestListClientRect.top -\n          (suggestClientRect.height - activeOptionClientRect.height)\n        this.suggest.scrollTop = scrollTop\n      }\n    }\n  }\n\n  // Suggest methods\n  suggestClose() {\n    this.setState({\n      activeOptionId: null,\n      isSuggestWrapperVisible: false,\n    })\n  }\n\n  suggestOpen() {\n    this.setState({ isSuggestWrapperVisible: true })\n  }\n\n  // Input methods\n  blur() {\n    this.input.blur()\n  }\n\n  focus() {\n    this.input.focus()\n  }\n\n  render() {\n    const {\n      error,\n      label,\n      minLengthToCallGet,\n      optionsToShow,\n      value,\n      formatOption,\n      getOptionsMethod,\n      onBlur,\n      onChange,\n      onEnter,\n      onFocus,\n      ...inputProps\n    } = this.props\n\n    const { activeOptionId, isSuggestWrapperVisible, options } = this.state\n\n    const componentClass = styles.InputSuggest\n\n    const inputClass = styles.InputSuggest__Input\n\n    const suggestWrapperClass = cn(styles.InputSuggest__SuggestWrapper, {\n      [styles.InputSuggest__SuggestWrapper_visible]:\n        isSuggestWrapperVisible && options.length > 0,\n    })\n\n    const suggestClass = styles.InputSuggest__Suggest\n\n    return (\n      <div\n        ref={(el) => {\n          this.element = el\n          return this.element\n        }}\n        className={componentClass}\n      >\n        <div\n          className={inputClass}\n          ref={(el) => {\n            this.inputWrapper = el\n            return this.inputWrapper\n          }}\n        >\n          <Input\n            error={error}\n            label={label}\n            ref={(el) => {\n              this.input = el\n              return this.input\n            }}\n            value={value}\n            onBlur={this.handleInputBlur}\n            onChange={this.handleInputChange}\n            onFocus={this.handleInputFocus}\n            onKeyDown={this.handleKeyDown}\n            {...inputProps}\n          />\n        </div>\n        <div className={suggestWrapperClass}>\n          <div\n            className={suggestClass}\n            ref={(el) => {\n              this.suggest = el\n              return this.suggest\n            }}\n          >\n            <Suggest\n              activeOptionId={activeOptionId}\n              optionSearchMask={value}\n              options={options}\n              value={value}\n              formatOption={formatOption}\n              onChange={this.handleSuggestChange}\n              onItemHover={this.handleSuggestItemHover}\n            />\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nInputSuggest.propTypes = {\n  error: PropTypes.string,\n  label: PropTypes.string.isRequired,\n  minLengthToCallGet: PropTypes.number,\n  optionsToShow: PropTypes.number,\n  value: PropTypes.string,\n\n  formatOption: PropTypes.func,\n  getOptionsMethod: PropTypes.func,\n  onBlur: PropTypes.func,\n  onChange: PropTypes.func,\n  onEnter: PropTypes.func,\n  onFocus: PropTypes.func,\n}\n\nInputSuggest.defaultProps = {\n  error: null,\n  label: null,\n  minLengthToCallGet: 2,\n  optionsToShow: 5,\n  value: null,\n\n  formatOption: (name, option) => name,\n  getOptionsMethod: (query, count) => Promise.resolve([]),\n  onBlur: (props) => {},\n  onChange: (name, props, data) => {},\n  onEnter: (value, fromSuggest, props, data) => {},\n  onFocus: (props) => {},\n}\n\nexport default InputSuggest\n","import PropTypes from 'prop-types'\n\nimport styles from './styles.module.scss'\n\nfunction Col(props) {\n  const { children } = props\n\n  return <div className={styles.Col}>{children}</div>\n}\n\nCol.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.node,\n    PropTypes.arrayOf(PropTypes.node),\n  ]),\n}\nCol.defaultProps = {\n  children: null,\n}\n\nexport default Col\n","import PropTypes from 'prop-types'\n\nimport styles from './styles.module.scss'\n\nfunction Row(props) {\n  const { children } = props\n\n  return <div className={styles.Row}>{children}</div>\n}\n\nRow.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.node,\n    PropTypes.arrayOf(PropTypes.node),\n  ]),\n}\nRow.defaultProps = {\n  children: null,\n}\n\nexport default Row\n","import PropTypes from 'prop-types'\nimport cn from 'classnames'\n\nimport styles from './option.module.scss'\n\nfunction Option(props) {\n  const { children, id, isActive, isValue, onClick, onMouseOver } = props\n\n  // Handlers\n  function handleClick(e) {\n    e.preventDefault()\n    onClick(id)\n  }\n  function handleMouseOver() {\n    onMouseOver(id)\n  }\n\n  const componentClass = cn(styles.Option, {\n    [styles.Option_active]: isActive,\n    [styles.Option_value]: isValue,\n  })\n\n  return (\n    <div\n      className={componentClass}\n      id={`select_box_option_${id}`}\n      onClick={handleClick}\n      onMouseOver={handleMouseOver}\n    >\n      {children}\n    </div>\n  )\n}\n\nOption.propTypes = {\n  children: PropTypes.oneOfType([\n    PropTypes.node,\n    PropTypes.arrayOf(PropTypes.node),\n  ]),\n  id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  isActive: PropTypes.bool,\n  isValue: PropTypes.bool,\n  onClick: PropTypes.func,\n  onMouseOver: PropTypes.func,\n}\nOption.defaultProps = {\n  children: null,\n  id: null,\n  isActive: false,\n  isValue: false,\n  onClick: (id) => {},\n  onMouseOver: (id) => {},\n}\n\nexport default Option\n","import PropTypes from 'prop-types'\n\n// Components\nimport Option from './option'\n\nimport styles from './suggest.module.scss'\n\nfunction Suggest(props) {\n  const {\n    activeOptionId,\n    optionSearchMask,\n    options,\n    value,\n    formatOption,\n    onChange,\n    onItemHover,\n  } = props\n\n  // Handlers\n  function handleOptionClick(id) {\n    onChange(options.find((o) => o.id === id))\n  }\n\n  function handleMouseOver(id) {\n    onItemHover(options.find((o) => o.id === id))\n  }\n\n  const optionSearchMaskPrepared = optionSearchMask\n    ? optionSearchMask\n        .trim()\n        .replace(\n          /(\\*|\\.|\\+|\\{|\\}|\\(|\\)|\\$|\\?|\\^|\\[|\\]|;|:|,|\\/|-|_|=)/g,\n          '\\\\$1'\n        )\n    : null\n\n  return (\n    <div className={styles.Suggest}>\n      <ul className={styles.Suggest__Options}>\n        {options.map((option) => {\n          const { id, name = '' } = option\n\n          let nameWithHighlights = [name]\n          if (optionSearchMaskPrepared) {\n            const regexp = new RegExp(optionSearchMaskPrepared, 'ig')\n            const match = name.match(regexp)\n\n            if (Array.isArray(match)) {\n              const nameParts = name.split(regexp)\n              nameWithHighlights = []\n\n              let matchIndex = 0\n              nameParts.forEach((part) => {\n                nameWithHighlights.push(part)\n                if (matchIndex < match.length) {\n                  nameWithHighlights.push(\n                    <i key={matchIndex}>{match[matchIndex]}</i>\n                  )\n                  matchIndex += 1\n                }\n              })\n            }\n          }\n\n          return (\n            <li key={id} className={styles.Suggest__Option}>\n              <Option\n                id={id}\n                isActive={id === activeOptionId}\n                isValue={id === value}\n                onClick={handleOptionClick}\n                onMouseOver={handleMouseOver}\n              >\n                {formatOption(nameWithHighlights, option)}\n              </Option>\n            </li>\n          )\n        })}\n      </ul>\n    </div>\n  )\n}\n\nSuggest.propTypes = {\n  activeOptionId: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  optionSearchMask: PropTypes.string,\n  options: PropTypes.arrayOf(\n    PropTypes.shape({\n      data: PropTypes.shape({}),\n      id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n      name: PropTypes.string,\n    })\n  ),\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  formatOption: PropTypes.func,\n  onChange: PropTypes.func,\n  onItemHover: PropTypes.func,\n}\nSuggest.defaultProps = {\n  activeOptionId: null,\n  optionSearchMask: '',\n  options: [],\n  value: null,\n  formatOption: (name, option) => name,\n  onChange: (option) => {},\n  onItemHover: (option) => {},\n}\n\nexport default Suggest\n","import Suggest from './suggest'\nexport default Suggest\n","function IconCode() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"24\"\n      height=\"24\"\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      className=\"feather feather-code\"\n    >\n      <polyline points=\"16 18 22 12 16 6\"></polyline>\n      <polyline points=\"8 6 2 12 8 18\"></polyline>\n    </svg>\n  )\n}\n\nexport default IconCode\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\nimport cn from 'classnames'\nimport isEqual from 'lodash.isequal'\n\n// Components\nimport Input from '../Input'\nimport Suggest from '../Suggest'\n\n// Icons\nimport IconCode from '../../icons/IconCode'\n\nimport styles from './styles.module.scss'\n\nconst removeBackslash = (value) =>\n  typeof value === 'string' ? value.replace(/\\\\/g, '') : value\n\nconst getStateData = ({ options, value }) => {\n  const activeOption = options.find((o) => o.id === value)\n  const activeOptionId = activeOption ? activeOption.id : null\n  const inputPlaceholder = activeOption ? activeOption.name : ''\n  const inputValue = removeBackslash(inputPlaceholder)\n  return { activeOptionId, inputPlaceholder, inputValue }\n}\n\nconst getFilteredOptions = (options, inputValue = '') => {\n  const inputValuePrepared = inputValue\n    .trim()\n    .replace(/(\\*|\\.|\\+|\\{|\\}|\\(|\\)|\\$|\\?|\\^)/g, '\\\\$1')\n  if (inputValuePrepared) {\n    return options.filter((o) =>\n      new RegExp(inputValuePrepared, 'ig').test(o.name)\n    )\n  }\n  return options\n}\n\nconst SUGGEST_CLOSING_DELAY = 200\nconst SUGGEST_OPENING_DELAY = 200\nconst KEY_UP = 38\nconst KEY_DOWN = 40\nconst KEY_ENTER = 13\n\nclass SelectBox extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      activeOptionId: null,\n      inputValue: '',\n      inputPlaceholder: '',\n      // these props need to make a special className modifiers for 200ms opening/closing delay\n      isSuggestWrapperClosing: false,\n      isSuggestWrapperOpening: false,\n      isSuggestWrapperVisible: false,\n    }\n\n    this.handleIconClick = this.handleIconClick.bind(this)\n    this.handleInputBlur = this.handleInputBlur.bind(this)\n    this.handleInputChange = this.handleInputChange.bind(this)\n    this.handleInputFocus = this.handleInputFocus.bind(this)\n    this.handleKeyDown = this.handleKeyDown.bind(this)\n    this.handleSuggestChange = this.handleSuggestChange.bind(this)\n    this.handleSuggestItemHover = this.handleSuggestItemHover.bind(this)\n    this.suggestClose = this.suggestClose.bind(this)\n    this.suggestOpen = this.suggestOpen.bind(this)\n    this.makeNextSuggestOptionActive =\n      this.makeNextSuggestOptionActive.bind(this)\n    this.makePrevSuggestOptionActive =\n      this.makePrevSuggestOptionActive.bind(this)\n    this.scrollToActiveOption = this.scrollToActiveOption.bind(this)\n  }\n\n  // Life Cycle\n  componentDidMount() {\n    const { isSuggestWrapperVisible = false } = this.props\n    const { activeOptionId, inputPlaceholder, inputValue } = getStateData(\n      this.props\n    )\n    this.setState({\n      activeOptionId,\n      inputPlaceholder,\n      inputValue,\n      isSuggestWrapperVisible,\n    })\n  }\n\n  componentDidUpdate(prevProps) {\n    // Изменился value или options извне\n    const { value, options, isSuggestWrapperVisible } = this.props\n    if (prevProps.value !== value || !isEqual(prevProps.options, options)) {\n      const { activeOptionId, inputPlaceholder, inputValue } = getStateData(\n        this.props\n      )\n      this.setState({ activeOptionId, inputPlaceholder, inputValue })\n    }\n\n    // Изменилась видимость саджеста извне\n    if (prevProps.isSuggestWrapperVisible !== isSuggestWrapperVisible) {\n      this.setState({ isSuggestWrapperVisible }) // eslint-disable-line\n    }\n  }\n\n  // Icon handlers\n  handleIconClick(e) {\n    e.preventDefault()\n    const { isSuggestWrapperVisible } = this.state\n    if (!isSuggestWrapperVisible) {\n      this.inputWrapper.querySelector('input').focus()\n    }\n  }\n\n  // Input handlers\n  handleInputBlur() {\n    this.setState({ isSuggestWrapperClosing: true })\n\n    // timeout нужен, чтобы успеть обработать клик по option ДО ТОГО,\n    // как он скроется из-за события input onblur\n    setTimeout(() => {\n      this.suggestClose()\n      const { value } = this.props\n      const { activeOptionId, inputPlaceholder } = this.state\n      this.setState({\n        activeOptionId: value || activeOptionId,\n        inputValue: removeBackslash(inputPlaceholder),\n        isSuggestWrapperClosing: false,\n      })\n    }, SUGGEST_CLOSING_DELAY)\n  }\n\n  handleInputChange(inputValue) {\n    const inputValueFormat = removeBackslash(inputValue)\n    this.setState({ inputValue: inputValueFormat }, () => {\n      const { value, options } = this.props\n\n      const filteredOptions = getFilteredOptions(options, inputValueFormat)\n      if (filteredOptions.length === 0) {\n        return false\n      }\n\n      if (value) {\n        const isFilteredOptionsContainValue = !!filteredOptions.find(\n          (o) => o.id === value\n        )\n        if (isFilteredOptionsContainValue) {\n          // Выделяем выбранную опцию\n          this.setState({\n            activeOptionId: value,\n          })\n        } else {\n          // Выделяем первую опцию, если значения контрола (value)\n          // НЕТ в списке отсортированных опций (filteredOptions)\n          this.setState({\n            activeOptionId: filteredOptions[0].id,\n          })\n        }\n      } else {\n        // Выделяем первую опцию, если ничего не выбрано\n        this.setState({\n          activeOptionId: filteredOptions[0].id,\n        })\n      }\n      return undefined\n    })\n  }\n\n  handleInputFocus() {\n    this.setState({ inputValue: '', isSuggestWrapperOpening: true })\n    this.suggestOpen()\n\n    // timeout нужен для того, чтобы задать контролу класс opening на некоторое время (200ms)\n    setTimeout(() => {\n      this.setState({ isSuggestWrapperOpening: false })\n    }, SUGGEST_OPENING_DELAY)\n  }\n\n  handleKeyDown(e) {\n    const { isSuggestWrapperVisible, activeOptionId } = this.state\n    const { options: optionsProps } = this.props\n    const option = optionsProps.find((o) => o.id === activeOptionId)\n    switch (e.keyCode) {\n      case KEY_DOWN:\n        e.preventDefault()\n        if (isSuggestWrapperVisible) {\n          this.makeNextSuggestOptionActive()\n        } else {\n          this.suggestOpen()\n        }\n        break\n      case KEY_UP:\n        e.preventDefault()\n        if (isSuggestWrapperVisible) {\n          this.makePrevSuggestOptionActive()\n        } else {\n          this.suggestOpen()\n        }\n        break\n      case KEY_ENTER:\n        if (option) {\n          this.handleSuggestChange({ id: activeOptionId })\n          this.suggestClose()\n          this.inputWrapper.querySelector('input').blur()\n        }\n        break\n      default:\n        break\n    }\n  }\n\n  // Suggest handlers\n  handleSuggestChange({ id }) {\n    const { onChange } = this.props\n    onChange(id, this.props)\n  }\n\n  handleSuggestItemHover({ id }) {\n    this.setState({ activeOptionId: id })\n  }\n\n  // Methods\n  suggestClose() {\n    this.setState({ isSuggestWrapperVisible: false })\n  }\n\n  suggestOpen() {\n    const { options, value } = this.props\n    const { inputValue } = this.state\n\n    const filteredOptions = getFilteredOptions(options, inputValue)\n\n    let newState = { isSuggestWrapperVisible: true }\n    const isValueEmpty = value === undefined || value === null || value === ''\n\n    if (isValueEmpty) {\n      // Выделяем первую опцию, если ничего не выбрано\n      if (filteredOptions.length > 0) {\n        newState = {\n          ...newState,\n          activeOptionId: filteredOptions[0] ? filteredOptions[0].id : null,\n        }\n      }\n    } else {\n      const isFilteredOptionsContainValue = !!filteredOptions.find(\n        (o) => o.id === value\n      )\n      // Выделяем первую опцию, если значения контрола (value)\n      // НЕТ в списке отсортированных опций (filteredOptions)\n      if (!isFilteredOptionsContainValue) {\n        newState = {\n          ...newState,\n          activeOptionId: filteredOptions[0] ? filteredOptions[0].id : null,\n        }\n      }\n    }\n\n    this.setState(newState, () => {\n      this.scrollToActiveOption(true)\n    })\n  }\n\n  makeNextSuggestOptionActive() {\n    const { inputValue, activeOptionId } = this.state\n    const { options: optionsProps } = this.props\n    const options = getFilteredOptions(optionsProps, inputValue)\n    if (options.length === 0) {\n      return\n    }\n\n    let activeOptionIndex = options.findIndex((o) => o.id === activeOptionId)\n    if (activeOptionIndex === -1) {\n      activeOptionIndex = 0\n    } else if (activeOptionIndex + 1 < options.length) {\n      activeOptionIndex += 1\n    }\n\n    this.setState({ activeOptionId: options[activeOptionIndex].id }, () => {\n      this.scrollToActiveOption()\n    })\n  }\n\n  makePrevSuggestOptionActive() {\n    const { activeOptionId, inputValue } = this.state\n    const { options: optionsProps } = this.props\n    const options = getFilteredOptions(optionsProps, inputValue)\n    if (options.length === 0) {\n      return\n    }\n\n    let activeOptionIndex = options.findIndex((o) => o.id === activeOptionId)\n    if (activeOptionIndex > 0) {\n      activeOptionIndex -= 1\n      this.setState({ activeOptionId: options[activeOptionIndex].id }, () => {\n        this.scrollToActiveOption()\n      })\n    }\n  }\n\n  scrollToActiveOption(calledFromsuggestOpenMethod = false) {\n    const { activeOptionId } = this.state\n    const activeOptionDOM = this.element.querySelector(\n      `#select_box_option_${activeOptionId}`\n    )\n    const suggestListDOM = this.suggest.querySelector('ul')\n\n    if (activeOptionDOM && suggestListDOM) {\n      const activeOptionClientRect = activeOptionDOM.getBoundingClientRect()\n      const suggestListClientRect = suggestListDOM.getBoundingClientRect()\n      const suggestClientRect = this.suggest.getBoundingClientRect()\n\n      // вышли ЗА ВЕРХНЮЮ границу контейнера\n      const isActiveOptionOutOfTheBoxTop =\n        activeOptionClientRect.top < suggestClientRect.top\n\n      // вышли ЗА НИЖНЮЮ границу контейнера\n      const isActiveOptionOutOfTheBoxBottom =\n        activeOptionClientRect.top + activeOptionClientRect.height >\n        suggestClientRect.top + suggestClientRect.height\n\n      if (calledFromsuggestOpenMethod) {\n        // прокручиваем активный элемент К СЕРЕДИНЕ контейнера\n        const scrollTop =\n          activeOptionClientRect.top -\n          suggestListClientRect.top -\n          (suggestClientRect.height / 2 - activeOptionClientRect.height / 2)\n        this.suggest.scrollTop = scrollTop\n      } else if (isActiveOptionOutOfTheBoxTop) {\n        // прокручиваем активный элемент К ВЕРХУ контейнера\n        const scrollTop = activeOptionClientRect.top - suggestListClientRect.top\n        this.suggest.scrollTop = scrollTop\n      } else if (isActiveOptionOutOfTheBoxBottom) {\n        // прокручиваем активный элемент К НИЗУ контейнера\n        const scrollTop =\n          activeOptionClientRect.top -\n          suggestListClientRect.top -\n          (suggestClientRect.height - activeOptionClientRect.height)\n        this.suggest.scrollTop = scrollTop\n      }\n    }\n  }\n\n  render() {\n    const { error, label, mask, notFoundText, options, value, formatOption } =\n      this.props\n\n    const {\n      activeOptionId,\n      inputPlaceholder,\n      inputValue,\n      isSuggestWrapperClosing,\n      isSuggestWrapperOpening,\n      isSuggestWrapperVisible,\n    } = this.state\n\n    const componentClass = styles.SelectBox\n\n    const iconClass = cn(styles.SelectBox__Icon, {\n      [styles.SelectBox__Icon_suggest_visible]: isSuggestWrapperVisible,\n    })\n\n    const inputClass = styles.SelectBox__Input\n\n    const suggestWrapperClass = cn(styles.SelectBox__SuggestWrapper, {\n      [styles.SelectBox__SuggestWrapper_closing]: isSuggestWrapperClosing,\n      [styles.SelectBox__SuggestWrapper_opening]: isSuggestWrapperOpening,\n      [styles.SelectBox__SuggestWrapper_visible]: isSuggestWrapperVisible,\n    })\n\n    const suggestClass = styles.SelectBox__Suggest\n\n    const notFound = styles.SelectBox__NotFound\n\n    const filteredOptions = getFilteredOptions(options, inputValue)\n\n    return (\n      <div\n        ref={(el) => {\n          this.element = el\n          return this.element\n        }}\n        className={componentClass}\n      >\n        <div className={iconClass} onClick={this.handleIconClick}>\n          <IconCode />\n        </div>\n        <div\n          className={inputClass}\n          ref={(el) => {\n            this.inputWrapper = el\n            return this.inputWrapper\n          }}\n        >\n          <Input\n            error={error}\n            label={label}\n            mask={mask}\n            value={isSuggestWrapperClosing ? inputPlaceholder : inputValue}\n            placeholder={inputPlaceholder}\n            onBlur={this.handleInputBlur}\n            onChange={this.handleInputChange}\n            onFocus={this.handleInputFocus}\n            onKeyDown={this.handleKeyDown}\n          />\n        </div>\n        <div className={suggestWrapperClass}>\n          <div\n            className={suggestClass}\n            ref={(el) => {\n              this.suggest = el\n              return this.suggest\n            }}\n          >\n            {filteredOptions.length > 0 ? (\n              <Suggest\n                activeOptionId={activeOptionId}\n                optionSearchMask={inputValue}\n                options={filteredOptions}\n                value={value}\n                formatOption={formatOption}\n                onChange={this.handleSuggestChange}\n                onItemHover={this.handleSuggestItemHover}\n              />\n            ) : (\n              <div className={notFound}>{notFoundText}</div>\n            )}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nSelectBox.propTypes = {\n  error: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  label: PropTypes.oneOfType([\n    PropTypes.arrayOf(PropTypes.node),\n    PropTypes.node,\n    PropTypes.string,\n  ]),\n  notFoundText: PropTypes.string,\n  options: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n      name: PropTypes.string,\n    })\n  ),\n  value: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  mask: PropTypes.string,\n  isSuggestWrapperVisible: PropTypes.bool,\n  formatOption: PropTypes.func,\n  onChange: PropTypes.func,\n}\n\nSelectBox.defaultProps = {\n  error: null,\n  label: null,\n  notFoundText: 'Совпадений не найдено',\n  options: [],\n  value: null,\n  mask: null,\n  isSuggestWrapperVisible: false,\n\n  formatOption: (name, option) => name, // eslint-disable-line no-unused-vars\n  onChange: (id, props) => {}, // eslint-disable-line no-unused-vars\n}\n\nexport default SelectBox\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Option\":\"option_Option__3hi2U\",\"Option_active\":\"option_Option_active__1-Hnb\",\"Option_value\":\"option_Option_value__1F3n1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Suggest__Options\":\"suggest_Suggest__Options__3X_hr\",\"Suggest__Option\":\"suggest_Suggest__Option__1Dcnd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"InputSuggest\":\"styles_InputSuggest__2A8yc\",\"InputSuggest__Input\":\"styles_InputSuggest__Input__3M6I2\",\"InputSuggest__SuggestWrapper\":\"styles_InputSuggest__SuggestWrapper__2oTlG\",\"InputSuggest__SuggestWrapper_closing\":\"styles_InputSuggest__SuggestWrapper_closing__2dtNH\",\"InputSuggest__SuggestWrapper_opening\":\"styles_InputSuggest__SuggestWrapper_opening__1rdBj\",\"InputSuggest__SuggestWrapper_visible\":\"styles_InputSuggest__SuggestWrapper_visible__7InKm\",\"InputSuggest__Suggest\":\"styles_InputSuggest__Suggest__23iYc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SelectBox\":\"styles_SelectBox__LuOVi\",\"SelectBox__Icon\":\"styles_SelectBox__Icon__lA4Ro\",\"SelectBox__Input\":\"styles_SelectBox__Input__1FBQJ\",\"SelectBox__SuggestWrapper\":\"styles_SelectBox__SuggestWrapper__bEbpj\",\"SelectBox__SuggestWrapper_closing\":\"styles_SelectBox__SuggestWrapper_closing__35bL_\",\"SelectBox__SuggestWrapper_opening\":\"styles_SelectBox__SuggestWrapper_opening__2fO9S\",\"SelectBox__SuggestWrapper_visible\":\"styles_SelectBox__SuggestWrapper_visible__1ghg9\",\"SelectBox__Suggest\":\"styles_SelectBox__Suggest__2xZYZ\",\"SelectBox__NotFound\":\"styles_SelectBox__NotFound__3wWgH\"};"],"sourceRoot":""}